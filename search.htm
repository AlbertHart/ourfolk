<!doctype html>
<html>
  <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-152244338-1"></script>
    <script data-ad-client="ca-pub-0704525034147863" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-152244338-1');
    </script>
    
    
    
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Mosaddek">
    <meta name="keyword" content="FlatLab, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">

    <title>Browse People</title>



    <script async src="https://cse.google.com/cse.js?cx=003736524176309227229:whsyk9ptpff"></script>
            


    <!-- Bootstrap core CSS -->
    <link href="./flatlab/css/bootstrap.min.css" rel="stylesheet">
    <link href="./flatlab/css/bootstrap-reset.css" rel="stylesheet">
    <!--external css-->
    <link href="./flatlab/assets/font-awesome/css/font-awesome.css" rel="stylesheet" />


    
    <!-- Custom styles for this template -->
    <link href="./flatlab/css/style.css" rel="stylesheet">
    <link href="./flatlab/css/style-responsive.css" rel="stylesheet" />

    <link rel="stylesheet" href="paf_styles.css"></link>

    <script async src="https://cse.google.com/cse.js?cx=003736524176309227229:whsyk9ptpff"></script>
    <script src="./alh_common/alh_sprintf.js?v=278"></script>
    <script src="./alh_common/alh_common.js?v=278"></script>

    <!-- ged_common is not supposed to change much -->
    <script src="ged_common.js?v=278"></script>
    <script src="bk_data.js?v=278"></script>

    <script>

      load_js_files();       

    // this is ruin only after ged_source is set.
    function process_ged_file()
    {
        console.log(get_self());

        if (!ged_source)
        {
            console.log("ged_source not set");
            return;
        }
        read_ged_file();
        
        process_search();
    }
         var iptr;
        var fptr;
        var cptr;
        var pptr;

        var notes;

        //var show_all = true;
        //var single_record = "@I6@";

  
        var ged_objects;

        
    </script>


  </head>

  <body>

  <section id="container" class="">
       <!--header start-->
       <header class="header white-bg">
        <div class="container">
            <div class="sidebar-toggle-box">
                <i class="fa fa-bars"></i>
            </div>
            <!--logo start-->
            <a href="families.htm" class="logo">
                <img id=logo height='50'>
                <script>
                    document.getElementById("logo").src = image_path + "/our-folk.jpg";
                </script>
            </a>
            <!--logo end-->
            <div class="nav notify-row" id="top_menu">
                <!--  notification start -->
                <div id=family_name class=title >Our Folk Genealogy Pages
                           <br>(HartGen)</div>
                    <!-- notification dropdown end -->
                </ul>
                <!--  notification end -->
            </div>
            <div class="top-nav ">
                <!--search & user info start-->
                            <div class="gcse-search"></div>
               
                <!--search & user info end-->
            </div>
        </div>
    </header>
    <!--header end-->

      <!--sidebar start-->
            <aside>
                <div id="sidebar"  class="nav-collapse ">
                    <script src="sidebar.js"></script>
                </div>
            </aside>
            <!--sidebar end-->

      
      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">
              <!-- page start-->

              <div class="row">
                    <div class="col-md-12">
                        <section class="card">
                                <div class="card-body">

              <br>SEARCH FOR NAMES 
              <input id=search_input type=text list=items " />
    

              <br><a href="" id="n0" onclick="load_person(0); return(false);"></a>
              <br><a href="" id="n1" onclick="load_person(1); return(false);"></a>
              <br><a href="" id="n2" onclick="load_person(2); return(false);"></a>
              <br><a href="" id="n3" onclick="load_person(3); return(false);"></a>
              <br><a href="" id="n4" onclick="load_person(4); return(false);"></a>
              <br><a href="" id="n5" onclick="load_person(5); return(false);"></a>
              <br><a href="" id="n6" onclick="load_person(6); return(false);"></a>
              <br><a href="" id="n7" onclick="load_person(7); return(false);"></a>
              <br><a href="" id="n8" onclick="load_person(8); return(false);"></a>
              <br><a href="" id="n9" onclick="load_person(9); return(false);"></a>
              <br><a href="" id="n10" onclick="load_person(10); return(false);"></a>
              <br><a href="" id="n11" onclick="load_person(11); return(false);"></a>
              <br><a href="" id="n12" onclick="load_person(12); return(false);"></a>
              <br><a href="" id="n13" onclick="load_person(13); return(false);"></a>
              <br><a href="" id="n14" onclick="load_person(14); return(false);"></a>
              <br><a href="" id="n15" onclick="load_person(15); return(false);"></a>
              <br><a href="" id="n16" onclick="load_person(16); return(false);"></a>
              <br><a href="" id="n17" onclick="load_person(17); return(false);"></a>
              <br><a href="" id="n18" onclick="load_person(18); return(false);"></a>
              <br><a href="" id="n19" onclick="load_person(19); return(false);"></a>

             <br>
             <button type='button' class='btn btn-info' onclick='load_table();'>Show More People</button>
            <br><br><br><br>

              
                        </div>
                    </section>
                </div>
            </div>

             



    <script>
        var item0;
        function search(item)
        {
            item0 = item;
            console.log("Selected: %s", item0.options[item0.selectedIndex]);
            return(false);
        }

    var stable = "";


    var iptr;
    var fptr;
    var cptr;
    var pptr;

    var notes;

    //var show_all = true;
    //var single_record = "@I6


    var items = []; // items to process


    //console.log("CALLING GET ITEMS");
    //get_items(id);
    
    function process_search()
    {

	    // check for special year
	    search_year = get_url_var("year");
	    if (search_year && search_year != "")
	    {
	        var keys = Object.keys(ged_objects);
	        for (var ik = 0; ik < keys.length; ik++)
	        {
	            key = keys[ik];
	            //console.log("ik: %s %s", ik, key);
	            if (key.substr(0,2) == "@F")
	                break;
	            if (key.substr(0,2) != "@I")
	                continue;
	            iptr = get_person(key);
	            
	            //console.log("ik: %s %s %s", ik, key, iptr.full_name);
	            
	            if (iptr.last_name == "")
	                continue;
	
	            
	            name = iptr.full_name.toLowerCase();
	
	            if (iptr.DEAT && iptr.DEAT.DATE && iptr.DEAT.DATE.indexOf(search_year) >= 0)
	            {
	                surl = "ged_person.htm?id=" + iptr.id;
	                document.writeln(sprintf("<a href=%s target=_BLANK>%s %s</a><br>", surl, iptr.full_name, show_dates(iptr)));
	            }
	        }
	
	    }
	
	
	   search_input = document.getElementById("search_input");
	    //const log = document.getElementById('values');
	
	    search_input.addEventListener('input', updateValue);
    }

    function updateValue(e) {
        console.log("updateValue: %s", e.target.value);
        do_search_phrase(e.target.value);

        /***
         * 
         * <input class="select2-search__field" type="search" tabindex="0" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox">
         * */
    }

    var search_entries = [];
  
    var iout;
    function do_search_phrase(search_phrase)
    {
        search_phrase = search_phrase.toLowerCase();
        console.log("do_search_phrase: %s", search_phrase);

        //if (search_phrase.length < 3)
        //    return;

        search_words = search_phrase.split(" ");

        search_entries = [];
        var max_out = 20;

        iout = 0;
        var keys = Object.keys(ged_objects);
        for (var ik = 0; ik < keys.length; ik++)
        {
            key = keys[ik];
            //console.log("ik: %s %s", ik, key);
            if (key.substr(0,2) == "@F")
                break;
            if (key.substr(0,2) != "@I")
                continue;
            iptr = get_person(key);
            
            //console.log("ik: %s %s %s", ik, key, iptr.full_name);

            if (iptr.full_name.substr(0,6) == "Living")
                continue;
            
            if (iptr.last_name == "")
                continue;

            if (iptr.treat_as_living)
                continue;

            
            name = iptr.full_name.toLowerCase();
            last_name = iptr.last_name.toLowerCase();

            not_found = false;
            for (iw = 0; iw < search_words.length; iw++)
            {
                sword = search_words[iw];
                
                // hart, - searches last name only
                ipos = sword.indexOf(",");
                if (ipos >= 0)
                {
                    lname = sword.substr(0, ipos);
                    //console.log("lname: %s last_name: %s", lname, last_name)
                    if (lname == last_name)
                    {
                        //console.log("continue1: name: %s last_name: %s", lname, last_name);
                        continue;
                    }
                }
                else
                {
                    //console.log("sword: %s name: %s", sword, name);
                    if (name.indexOf(sword) >= 0)
                    {
                        //console.log("continue2: %s sword: %s name: %s", sword, name);
                        continue;
                    }
                }
                not_found = true;
                break;

            }
            if (!not_found)
            {
                // add to list
                //console.log("iout: %s sword: %s id: %s %s", iout, sword, iptr.id, iptr.full_name);

                name = sprintf("%s, %s", iptr.last_name, iptr.given_name);
                if (iptr.suffix)
                    name += ", " + iptr.suffix;
                if (iptr.prefix)
                    name += " " + iptr.prefix;
                search_entries[iout] = {id: iptr.id, name: name, dates: get_short_full_dates(iptr)};

                iout++;
                if (iout >= max_out)
                    break;

            }

        }
        search_entries = search_entries.sort(function(a, b){
            if (a.last_name < b.last_name) return -1;
            if (a.last_name > b.last_name) return 1;
            //if (a.given_name < b.given_name) return -1;
            //if (a.given_name > b.given_name) return 1;
            //if (a.suffix < b.suffix) return -1;
            //if (a.suffix > b.suffix) return 1;
            return(0);
        });

            for (iout = 0; iout < max_out; iout++)
            {
                elt_id = "n" + iout;
                elt = document.getElementById(elt_id);

                if (iout < search_entries.length)
                {
                   elt.innerHTML = sprintf("<b>%s</b> - %s",  search_entries[iout].name , search_entries[iout].dates);
                }
                else
                    elt.innerHTML = "";
            }

    }

    
    function load_person(no)
    {
        search_entry = search_entries[no];
        console.log("LOAD: %s %s", no, search_entry.id);
        surl = "ged_person.htm?id=" + search_entry.id;
        console.log("SURL: %s", surl);
        window.location.href = surl;
        return(false);

    }

    function load_table()
    {
        console.log("LOAD TABLE");
        search_input = document.getElementById("search_input");


        search_phrase = search_input.value;


        search_phrase = search_phrase.toLowerCase();

        url_phrase = encodeURIComponent(search_phrase);

        surl = "ged_browse.htm?search_phrase=" + url_phrase;
        console.log("SURL: %s", surl);

        window.location.href = surl;
        return(false);
    }

    
        </script>

              
              <!-- page end-->
          </section>
      </section>
      <!--main content end-->
      

      <!--footer start-->
      <footer class="site-footer">
          <div class="text-center">

                <script>do_footer();</script>>
              <a href="#" class="go-top">
                  <i class="fa fa-angle-up"></i>
              </a>
          </div>
      </footer>
      <!--footer end-->

      

  </section>

    <!-- js placed at the end of the document so the pages load faster -->


    <script src="./flatlab/js/jquery.js"></script>
    <script src="./flatlab/js/jquery-ui-1.9.2.custom.min.js"></script>
    <script src="./flatlab/js/bootstrap.bundle.min.js"></script>
    <script class="include" type="text/javascript" src="./flatlab/js/jquery.dcjqaccordion.2.7.js"></script>
    <script src="./flatlab/js/jquery.scrollTo.min.js"></script>
    <script src="./flatlab/js/jquery.nicescroll.js" type="text/javascript"></script>
    <script type="text/javascript" language="javascript" src="./flatlab/assets/advanced-datatable/media/js/jquery.dataTables.js"></script>
    <script type="text/javascript" src="./flatlab/assets/data-tables/DT_bootstrap.js"></script>
    <script src="./flatlab/js/respond.min.js" ></script>

    <!--right slidebar-->
    <script src="./flatlab/js/slidebars.min.js"></script>


    <!--common script for all pages-->
    <script src="./flatlab/js/common-scripts.js"></script>

    <script>

     


            



    </script>


  </body>
</html>
